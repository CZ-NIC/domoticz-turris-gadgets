<!DOCTYPE html>
<html manifest="html5.appcache">
<head>
		<meta charset="utf-8">
		<title>Domoticz</title>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /> 
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />

		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="images/iphone-icon.png"/>
		<link rel="icon" sizes="196x196" href="images/logo.png">
		<link rel="icon" sizes="192x192" href="images/logo192.png">

		<!-- iPhone -->
		<link href="images/startup/apple-touch-startup-image-320x460.png" 
			media="(device-width: 320px)" 
			rel="apple-touch-startup-image">
		
		<!-- iPhone (Retina) -->
		<link href="images/startup/apple-touch-startup-image-640x920.png" 
			media="(device-width: 320px) and (-webkit-device-pixel-ratio: 2)" 
			rel="apple-touch-startup-image">

		<!-- iPhone 5 (Retina) -->
		<link href="images/startup/apple-touch-startup-image-640x1096.png"
			media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
			rel="apple-touch-startup-image">

		<!-- iPad (portrait) -->
		<link href="images/startup/apple-touch-startup-image-768x1004.png" 
					media="(device-width: 768px) and (orientation: portrait)" 
					rel="apple-touch-startup-image">

		<!-- iPad (landscape) -->
		<link href="images/startup/apple-touch-startup-image-1024x748.png" 
					media="(device-width: 768px) and (orientation: landscape)" 
					rel="apple-touch-startup-image">      

		<!--iPad (Retina, portrait) -->
		<link href="images/startup/apple-touch-startup-image-1536x2008.png" 
					media="(device-width: 768px) 
					 and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" 
					rel="apple-touch-startup-image">

		<!-- iPad (Retina, landscape) -->
		<link href="images/startup/apple-touch-startup-image-2048x1496.png" 
					media="(device-width: 768px) 
					 and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" 
					rel="apple-touch-startup-image"> 

        <link rel="stylesheet" href="css/bootstrap.css">
        <link href="css/bootstrap-responsive.css" rel="stylesheet" media="screen">
        <link type="text/css" rel="stylesheet" href="css/ui-darkness/jquery-ui-1.10.3.custom.min.css" />
		<link type="text/css" rel="stylesheet" href="css/demo_table_jui.css" />
		<link type="text/css" rel="stylesheet" href="css/jquery.uix.multiselect.css" />
        <link type="text/css" rel="stylesheet" href="css/style.css" />
        <link type="text/css" rel="stylesheet" href="css/colpick.css" />
        <link type="text/css" rel="stylesheet" href="css/jquery-ui-timepicker-addon.css" />
        <link type="text/css" rel="stylesheet" href="acttheme/custom.css" />
        <script src="js/jquery-1.11.2.min.js"></script>
		<script src="js/i18next-1.8.0.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
		<script src="js/bootbox.min.js"></script>
        <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
		<script src="js/jquery.ui.touch-punch.min.js"></script>
		<script src="js/jquery.uix.multiselect.min.js"></script>
		<script src="js/jquery.ddslick.min.js"></script>
		<script src="js/colpick.js"></script>
		<script type="text/javascript" src="js/noty/jquery.noty.js"></script>
        <script type="text/javascript" src="js/noty/layouts/top.js"></script>
        <script type="text/javascript" src="js/noty/layouts/topLeft.js"></script>
        <script type="text/javascript" src="js/noty/layouts/topRight.js"></script>
        <script type="text/javascript" src="js/noty/themes/default.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/jquery.dataTables.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/ZeroClipboard.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/dataTables.tableTools.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/date.format.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/highcharts.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/highcharts-more.js"></script>
		<script src="js/modules/exporting.js"></script>
		<script src="js/export-csv.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/themes/dark-blue.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/domoticz.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/domoticzdevices.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/jquery-ui-timepicker-addon.js"></script>

		<script data-main="app/main" src="js/require.js"></script>
<script type="text/javascript" charset="utf-8" id="init-code">

function NotifyCacheRefresh()
{
	$.cachenoty=generate_noty('information', '<b>' + 'Browser Cache is being refreshed' + '...</b><br>' + 'Please standby' + '...', false);
	$.cachecount=0
	$.cachetotal=0
}

function ClearNotifyCacheRefresh()
{
	if (typeof $.cachenoty != 'undefined') {
		$.cachenoty.close();
	}
}

function logEvent(event) {
}

if (window.applicationCache) {
	window.applicationCache.addEventListener('checking',logEvent,false);
	window.applicationCache.addEventListener('noupdate',logEvent,false);
	window.applicationCache.addEventListener('progress',logEvent,false);
	window.applicationCache.addEventListener('cached',logEvent,false);
	window.applicationCache.addEventListener('updateready',logEvent,false);
	window.applicationCache.addEventListener('obsolete',logEvent,false);
	window.applicationCache.addEventListener('error',logEvent,false);
}

function ShowUpdateNotification(Revision) {
	var msgtxt=$.t('A new version of Domoticz is Available!...');
	msgtxt+='<br>' + $.t('Version') + ': <b>' + Revision + '</b>, ' + $.t('Latest Changes') + ': <b><a class="norm-link" onclick="ShowLatestHistory();">' + $.t('Click Here') + '</a></b>';
	msgtxt+='<br><center><a class="btn btn-danger" onclick="SwitchLayout(\'Update\');">' + $.t('Update Now') + '</a></center>';
	generate_noty('success', msgtxt, false);
}

function CheckForUpdate(showdialog) {
	$.ajax({
		 url: "json.htm?type=command&param=checkforupdate&forced=" + showdialog,
		 async: false, 
		 dataType: 'json',
		 success: function(data) {
			var urights=data.statuscode;
			var bDisplayLogout=false;
			if (urights!=3) {
				bDisplayLogout=true;
			}
			else {
				bDisplayLogout=false;
				urights=2;
			}
			window.my_config =
			{
				userrights : urights,
				hasupdatesupport : false
			};
			
			if (data.HaveUpdate == true) {
				window.my_config.hasupdatesupport = true;
				if (showdialog) {
					bootbox.confirm($.t("Update Available !... Update Now?"), function(result) {
						if (result==true) {
							SwitchLayout('Update');
						}
					});
				}
				else {
					ShowUpdateNotification(data.Revision);
				}
				return true;
			}
			else
			{
				if (data.IsSupported==false) {
					window.my_config.hasupdatesupport = false;
				}
				else {
					window.my_config.hasupdatesupport = true;
				}
				if (showdialog) {
					bootbox.alert($.t("No Update Available !..."));
				}
				return false;
			}
		 },
		 error: function(){
				if (showdialog) {
					bootbox.alert($.t("Error communicating to server!"));
				}
				return false;
		 }     
	});
	return false;
}

function ReplaceDevice(idx,backfunction)
{
	$.ajax({
		 url: "json.htm?type=gettransfers&idx=" + idx,
		 async: false, 
		 dataType: 'json',
		 success: function(data) {
				if (typeof data.result == 'undefined') 
				{
					bootbox.alert($.t('No devices to Transfer too!'));
					return;
				}
				$("#dialog-replacedevice #newdevice").html("");
				
				$.each(data.result, function(i,item){
					var option = $('<option />');
					option.attr('value', item.idx).text(item.Name);
					$("#dialog-replacedevice #newdevice").append(option);
				});
				$.devIdx = idx;
				$.backfunction=backfunction;
				$( "#dialog-replacedevice" ).i18n();
				$( "#dialog-replacedevice" ).dialog( "open" );
		 }
	});
}

function ShowLatestHistory()
{
	$.myglobals.historytype=2;
	SwitchLayout('History');
}

$(document).ready(function() {
	if ("-ms-user-select" in document.documentElement.style &&
		(navigator.userAgent.match(/IEMobile/) ||
		navigator.userAgent.match(/ZuneWP7/) ||
		navigator.userAgent.match(/WPDesktop/))) {
		var msViewportStyle = document.createElement("style");
		msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));
		document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
	 }
	$.myglobals = {
		actlayout : "",
		prevlayout : "",
		ismobile: false,
		ismobileint: false,
		windscale: 1.0,
		windsign: "m/s",
		tempscale: 1.0,
		tempsign: "C",
		historytype : 1,
		LastPlanSelected: 0,
		DashboardType: 0
	};
	
	if( /Android|webOS|iPhone|iPad|iPod|ZuneWP7|BlackBerry/i.test(navigator.userAgent) ) {
		$.myglobals.ismobile=true;
		$.myglobals.ismobileint=true;
	}

	var matched = matchua( navigator.userAgent );
	var browser = {};
	if ( matched.browser ) {
		browser[ matched.browser ] = true;
		browser.version = matched.version;
	}
	
	if ( browser.msie ) {
		var bVersion=parseFloat(browser.version);
		if (bVersion < 10.0) {
			bootbox.alert($.t('This Application is is designed for Internet Explorer version 10+!\nPlease upgrade your browser!'));
		}
	}

	if (window.applicationCache) {
			window.applicationCache.addEventListener('downloading', function(e)
			{
				NotifyCacheRefresh();
			}, false);
			
			window.applicationCache.addEventListener('updateready', function(e) 
			{
				ClearNotifyCacheRefresh();
				if (window.applicationCache.status == window.applicationCache.UPDATEREADY) 
				{
					// Browser downloaded a new app cache.
					// Swap it in and reload the page to get the new hotness.
					try {
						window.applicationCache.swapCache();
					}
					catch(error) {
						console.log(error.code);
					}					
					window.location.reload();
				}
			}, false);
			window.applicationCache.addEventListener('cached', function(e) 
			{
				ClearNotifyCacheRefresh();
				if (window.applicationCache.status == window.applicationCache.UPDATEREADY) 
				{
					// Browser downloaded a new app cache.
					// Swap it in and reload the page to get the new hotness.
					try {
						window.applicationCache.swapCache();
					}
					catch(error) {
						console.log(error.code);
					}					
					window.location.reload();
				}
			}, false);
			
			window.applicationCache.addEventListener('error', function(e)
			{
				var errText = 'Browser Cache refresh failed.';
				errText += (typeof($.cachecount) != 'undefined') ? '<br>Loaded ' + $.cachecount + ' of ' + $.cachetotal + ' files' : '';
				errText += (typeof(e.message) != 'undefined') ? '<br>' + e.message : '';
				ClearNotifyCacheRefresh();
				if (e.message.indexOf("html5.appcache2") >= 0)
				{
					$.cachenoty=generate_noty_tl('error', errText, false);
				}
				else
				{
					$.cachenoty=generate_noty('error', errText, false);
				}
				setTimeout(function(){	ClearNotifyCacheRefresh(); }, 2000);
			}, false);

			window.applicationCache.addEventListener('progress', function(e)
			{
				$.cachecount=e.loaded
				$.cachetotal=e.total
			}, false);
	}
	
	$("#appversion").click( function( e ) {
		e.preventDefault();
		$.myglobals.historytype=1;
		SwitchLayout('History');
	});

	//Highcharts.getOptions().exporting.buttons.contextButton.menuItems.push({
	//	text: 'Download CSV',
	//	onclick: function () {
	//		ExportChart2CSV(this);
	//	}
	//});

	window.myglobals=$.myglobals;

	var dialog_replacedevice_buttons = {};
	
	dialog_replacedevice_buttons["OK"]=function() {
		  var bValid = true;
		  $( this ).dialog( "close" );
		  
							var NewDeviceIdx=$("#dialog-replacedevice #newdevice option:selected").val();
							if (typeof NewDeviceIdx == 'undefined') {
								bootbox.alert($.t('No New Device Selected!'));
								return ;
							}
							$.ajax({
								 url: "json.htm?type=transferdevice&idx=" + $.devIdx + "&newidx=" + NewDeviceIdx,
								 async: false, 
								 dataType: 'json',
								 success: function(data) {
									if (data.status == 'OK') {
										$.backfunction();
									}
									else {
										ShowNotify($.t('Problem Transfering Device!'), 2500, true);
									}
								 },
								 error: function(){
										HideNotify();
										ShowNotify($.t('Problem Transfering Device!'), 2500, true);
								 }     
							});
	};
	dialog_replacedevice_buttons["Cancel"]=function() {
		$( this ).dialog( "close" );
	};

    $( "#dialog-replacedevice" ).dialog({
          autoOpen: false,
          width: 'auto',
          height: 'auto',
          modal: true,
          resizable: false,
          title: "Replace Device",
          buttons: dialog_replacedevice_buttons,
          close: function() {
            $( this ).dialog( "close" );
          }
    });
} );

</script>
</head>
<body>
	<div id="thermostat3_popup" class="ui-popup ui-body-b ui-overlay-shadow ui-corner-all pop" style="width: 176px;">
		<div class="ui-close" onclick="CloseTherm3Popup()"></div>
		<table class="display" border="0" cellpadding="0" cellspacing="0">
			<tr>
				<td align="left" style="vertical-align: center;">
					<a id="popup_therm_on"><img src="images/pushon48.png" class="lcursor" height="48" width="48"></a>
					<a id="popup_therm_off"><img src="images/pushoff48.png" class="lcursor" height="48" width="48"></a>
				</td>
			</tr>
				<td align="left" style="vertical-align: center;">
					<a id="popup_therm_up"><img src="images/Up48.png" class="lcursor" style="margin-top: 5px;" height="48" width="48" onclick="ThermUp()"></a>
					<a id="popup_therm_down"><img src="images/Down48.png" class="lcursor" height="48" width="48" onclick="ThermDown()"></a>
					<a id="popup_therm_stop"><img src="images/Stop48.png" class="lcursor" height="48" width="48" onclick="ThermStop()"></a>
				</td>
			<tr>		
			</tr>
				<td align="left" style="vertical-align: center;">
					<a id="popup_therm_2up"><img src="images/Up48_2.png" class="lcursor" style="margin-top: 5px;" height="48" width="48" onclick="ThermUp2()"></a>
					<a id="popup_therm_2down"><img src="images/Down48_2.png" class="lcursor" height="48" width="48" onclick="ThermDown2()"></a>
				</td>
			<tr>		
		</table>
	</div> 
	<div id="rgbw_popup" class="ui-popup ui-body-b ui-overlay-shadow ui-corner-all pop">
		<div class="ui-close" onclick="CloseRGBWPopup()"></div>
		<table class="display" border="0" cellpadding="0" cellspacing="0">
			<tr id="LedColor">
				<td>
					<table class="display" id="ledtable" border="0" cellpadding="0" cellspacing="0">
					<tr>
						<td align="left" style="width:200px">
							<div id="popup_picker" width="100px" height="100px"></div>
						</td>
						<td align="left" style="vertical-align: center;">
							<a id="popup_switch_on"><img src="images/pushon48.png" class="lcursor" height="48" width="48"></a><br>
							<a id="popup_switch_off"><img src="images/pushoff48.png" class="lcursor" height="48" width="48"></a>
						</td>
					</tr>
					</table>
				</td>
			</tr>
		</table>
		<div style="width:90%; left: 14px; bottom: 11px;" class="dimslider" id="slider" data-idx="popupslider" data-type="norm" data-maxlevel="100" data-isprotected="0" data-svalue="33"></div>
		<br>
		<br>
	</div>
	<div id="setpoint_popup" class="ui-popup ui-body-b ui-overlay-shadow ui-corner-all pop">
		<div class="ui-close" onclick="CloseSetpointPopup()"></div>
		<table class="display" border="0" cellpadding="0" cellspacing="0">
			<tr>
				<td style="width:60px; vertical-align: center;">
					<span data-i18n="Actual">Actual</span>:<br>
					<span id="actual_value" style="font-size: 24px; font-weight: bold;">20.1</span>
				</td>
				<td align="center" style="vertical-align: center;">
					<a id="popup_temp_up"><img src="images/Up48.png" class="lcursor" style="margin-top: 5px;" height="48" width="48" onclick="SetpointUp()"></a><br>
					<input id="popup_setpoint" type="text" style="width: 50px; padding: .2em; margin-top: 10px; margin-bottom: 10px; font-size: 24px; font-weight: bold; border: 3px solid white; text-align: center;" class="text ui-widget-content ui-corner-all" /><br>
					<a id="popup_temp_down"><img src="images/Down48.png" class="lcursor" height="48" width="48" onclick="SetpointDown()"></a>
				</td>
				<td align="center" style="vertical-align: center;">
					<button data-i18n="Set" class="btn btn-info" onclick="SetSetpoint()">Set</button>
				</td>
			</tr>
		</table>
	</div> 
	<div id="globaldaylog" style="display:none;">
	  <h2 data-i18n="Day">Day</h2>
	  <div id="globaldaygraph" style="height: 300px;"></div>
	  <br>
	  <h2 data-i18n="Month">Month</h2>
	  <div id="globalmonthgraph" style="height: 300px;"></div>
	  <br>
	  <h2 data-i18n="Year">Year</h2>
	  <div id="globalyeargraph" style="height: 300px;"></div>
	</div>
	<div id="lightlog" style="display:none;">
		<table class="display" id="lighttable" border="0" cellpadding="0" cellspacing="0" width="100%">
				<thead>
						<tr>
								<th width="140" align="left" data-i18n="Date">Date</th>
								<th data-i18n="Data">Data</th>
						</tr>
				</thead>
		</table>
		<table id="updelclr" border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
				</td>
				<td align="right">
					<a class="btnstyle3" id="clearlog" onclick="ClearLightLog();" data-i18n="Clear">Clear</a>
				</td>
			</tr>
		</table>
		<br>
		<div id="lightgraph" style="height: 200px;"></div>
	</div>
	<div id="textlog" style="display:none;">
		<table class="display" id="texttable" border="0" cellpadding="0" cellspacing="0" width="100%">
				<thead>
						<tr>
								<th width="140" align="left" data-i18n="Date">Date</th>
								<th data-i18n="Data">Data</th>
						</tr>
				</thead>
		</table>
		<table id="updelclr" border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td>
				</td>
				<td align="right">
					<a class="btnstyle3" id="clearlog" onclick="ClearTextLog();" data-i18n="Clear">Clear</a>
				</td>
			</tr>
		</table>
	</div>
	<div id="dialog-camera-live" style="display:none;">
		<img id="camfeed" name="camfeed" onload="load_cam_video()" src="images/camera_default.png" width="600" height="337" style="border: 1px solid #1E2832;">
	</div>
	<div id="daymonthyearlog" style="display:none;">
		<h2 data-i18n="Day">Day</h2>
		<div id="daygraph" style="height: 300px;"></div>
		<br>
		<h2 data-i18n="Month">Month</h2>
		<div id="monthgraph" style="height: 300px;"></div>
		<br>
		<h2  data-i18n="Year">Year</h2>
		<div id="yeargraph" style="height: 300px;"></div>
	</div>
	<div id="dayweekmonthyearlog" style="display:none;">
		<h2 data-i18n="Day">Day</h2>
		<div id="daygraph" style="height: 250px;"></div>
		<br>
		<h2 data-i18n="Week">Week</h2>
		<div id="weekgraph" style="height: 300px;"></div>
		<br>
		<h2 data-i18n="Month">Month</h2>
		<div id="monthgraph" style="height: 300px;"></div>
		<br>
		<h2  data-i18n="Year">Year</h2>
		<div id="yeargraph" style="height: 300px;"></div>
	</div>
	 <div id="windlog" style="display:none;">
		<h2 data-i18n="Day">Day</h2>
		<div id="winddaygraph" style="height: 300px;"></div>
		<br>
		<div id="windspeedgraph" style="height: 400px;"></div>
		<br>
		<h2 data-i18n="Month">Month</h2>
		<div id="windmonthgraph" style="height: 300px;"></div>
		<br>
		<h2 data-i18n="Year">Year</h2>
		<div id="windyeargraph" style="height: 300px;"></div>
	</div>
	<div id="smartlog" style="display:none;">
	  <h2 data-i18n="Day">Day</h2>
	  <div id="smartdaygraph" style="height: 300px;"></div>
	  <br>
	  <h2 data-i18n="Week">Week</h2>
	  <div id="smartweekgraph" style="height: 300px;"></div>
	  <br>
	  <h2 data-i18n="Month">Month</h2>
	  <div id="smartmonthgraph" style="height: 300px;"></div>
	  <br>
	  <h2 data-i18n="Year">Year</h2>
	  <div id="smartyeargraph" style="height: 300px;"></div>
	</div>
	<div id="toptextmonthgas" style="display:none;">
		<a class="btnstylerev" onclick="ShowP1YearReportGas(0)" data-i18n="Back">Back</a>&nbsp;
		<h1 id="theader" data-i18n="Usage this Month">Usage this Month</h1>
		<br>
		<span data-i18n="Total Usage">Total Usage</span>: <span id="tu">-</span> <span id="munit">m3</span><br>
		<span data-i18n="Monthly Cost">Monthly Cost</span>: <span id="mc">-</span><br>
		<br>
	</div>
	<div id="toptextyeargas" style="display:none;">
		<table class="display" border="0" cellpadding="0" cellspacing="0">
		<tr>
		  <td align="left">
			<a id="backbutton" class="btnstylerev" onclick="ShowUtilities()" data-i18n="Back">Back</a>&nbsp;
			<h1 id="theader" data-i18n="Usage this Year">Usage this Year</h1>
		  </td>
		  <td align="right">
				<span data-i18n="Year">Year</span>:
				<select id="comboyear" style="width:60px" class="combobox ui-corner-all">
					<option value="2012">2012</option>
					<option value="2013">2013</option>
					<option value="2014">2014</option>
					<option value="2015">2015</option>
					<option value="2016">2016</option>
					<option value="2017">2017</option>
					<option value="2018">2018</option>
				</select>
		  </td>
		</tr>
		</table>
		<br>
		<span data-i18n="Total Usage">Total Usage</span>: <span id="tu">-</span> <span id="munit">m3</span><br>
		<span data-i18n="Counter">Counter</span>: <span id="cntr">-</span><br>
		<span data-i18n="Year Cost">Year Cost</span>: <span id="mc">-</span><br>
		<br>
	</div>
	<div id="monthreportviewgas" style="display:none;">
		<table class="display myrighttable" id="monthreport" border="0" cellpadding="0" cellspacing="0" width="100%">
			<thead>
				<tr valign="middle">
					<th width="30" align="right" data-i18n="Day">Day</th>
					<th width="60" align="right" data-i18n="Counter">Counter</th>
					<th width="60" align="right" data-i18n="Usage">Usage</th>
					<th width="60" align="right" data-i18n="Costs">Costs</th>
					<th width="40" align="right">&lt;&gt;</th>
				</tr>
			</thead>
		</table>
		<br>
		<div id="usagegraph" style="height: 240px;"></div>
	</div>
	<div id="yearreportviewgas" style="display:none;">
		<table class="display myrighttable" id="yearreport" border="0" cellpadding="0" cellspacing="0" width="100%">
			<thead>
				<tr valign="middle">
					<th width="30" align="right">Month</th>
					<th width="60" align="right">Usage</th>
					<th width="60" align="right">Costs</th>
					<th width="40" align="right">&lt;&gt;</th>
				</tr>
			</thead>
		</table>
		<br>
		<div id="usagegraph" style="height: 240px;"></div>
	</div>
	<div id="toptextmonth" style="display:none;">
		<a class="btnstylerev" onclick="ShowP1YearReport(0)" data-i18n="Back">Back</a>&nbsp;
		<h1 id="theader" data-i18n="Usage this Month">Usage this Month</h1>
		<br>
		<span data-i18n="Total Usage">Total Usage</span>: <span data-i18n="T1">T1</span>: <span id="tut1">-</span> kWh, <span data-i18n="T2">T2</span>: <span id="tut2">-</span> kWh, <span data-i18n="Total">Total</span>: <span id="tu">-</span> kWh<br>
		<div id="dreturn" style="display:none;"><span data-i18n="Total Return">Total Return</span>: <span data-i18n="T1">T1</span>: <span id="trt1">-</span> kWh, <span data-i18n="T2">T2</span>: <span id="trt2">-</span> kWh, <span data-i18n="Total">Total</span>: <span id="tr">-</span> kWh<br></div>
		<span data-i18n="Monthly Cost">Monthly Cost</span>: <span id="mc">-</span><br>
		<br>
	</div>
	<div id="toptextyear" style="display:none;">
		<table class="display" border="0" cellpadding="0" cellspacing="0">
		<tr>
		  <td align="left">
			<a id="backbutton" class="btnstylerev" onclick="ShowUtilities()" data-i18n="Back">Back</a>&nbsp;
			<h1 id="theader" data-i18n="Usage this Year">Usage this Year</h1>
		  </td>
		  <td align="right">
				<span data-i18n="Year">Year</span>:
				<select id="comboyear" style="width:74px" class="combobox ui-corner-all">
					<option value="2012">2012</option>
					<option value="2013">2013</option>
					<option value="2014">2014</option>
					<option value="2015">2015</option>
					<option value="2016">2016</option>
					<option value="2017">2017</option>
					<option value="2018">2018</option>
				</select>
		  </td>
		</tr>
		</table>
		<br>
		<span data-i18n="Total Usage">Total Usage</span>: <span data-i18n="T1">T1</span>: <span id="tut1">-</span> kWh, <span data-i18n="T2">T2</span>: <span id="tut2">-</span> kWh, <span data-i18n="Total">Total</span>: <span id="tu">-</span> kWh<br>
		<span data-i18n="Counter">Counter</span>: <span data-i18n="T1">T1</span>: <span id="cntrt1">-</span>, <span data-i18n="T2">T2</span>: <span id="cntrt2">-</span><br>
		<div id="dreturn" style="display:none;">
			<span data-i18n="Total Return">Total Return</span>: <span data-i18n="R1">R1</span>: <span id="trt1">-</span> kWh, <span data-i18n="R2">R2</span>: <span id="trt2">-</span> kWh, <span data-i18n="Total">Total</span>: <span id="tr">-</span> kWh<br>
			<span data-i18n="Counter Return">Counter Return</span>: <span data-i18n="R1">R1</span>: <span id="cntrr1">-</span>, <span data-i18n="R2">R2</span>: <span id="cntrr2">-</span><br>
		</div>
		<span data-i18n="Year Cost">Year Cost</span>: <span id="mc">-</span><br>
		<br>
	</div>
	<div id="monthreportview" style="display:none;">
		<table class="display myrighttable" id="monthreport" border="0" cellpadding="0" cellspacing="0" width="100%">
			<thead>
				<tr valign="middle">
					<th width="30" align="right" data-i18n="Day">Day</th>
					<th width="60" align="right" data-i18n="Counter T1">Counter T1</th>
					<th width="60" align="right" data-i18n="Usage T1">Usage T1</th>
					<th width="60" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Counter T2">Counter T2</th>
					<th width="60" align="right" data-i18n="Usage T2">Usage T2</th>
					<th width="60" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Return T1">Return T1</th>
					<th width="60" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Return T2">Return T2</th>
					<th width="60" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Total">Total</th>
					<th width="40" align="right">&lt;&gt;</th>
				</tr>
			</thead>
		</table>
		<br>
		<div id="usagegraph" style="height: 240px;"></div>
	</div>
	<div id="yearreportview" style="display:none;">
		<table class="display myrighttable" id="yearreport" border="0" cellpadding="0" cellspacing="0" width="100%">
			<thead>
				<tr valign="middle">
					<th width="70" align="right" data-i18n="Month">Month</th>
					<th width="60" align="right" data-i18n="Usage T1">Usage T1</th>
					<th width="50" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Usage T2">Usage T2</th>
					<th width="50" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Return T1">Return T1</th>
					<th width="50" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Return T2">Return T2</th>
					<th width="50" align="right" data-i18n="Costs">Costs</th>
					<th width="60" align="right" data-i18n="Total">Total</th>
					<th width="40" align="right">&lt;&gt;</th>
				</tr>
			</thead>
		</table>
		<br>
		<div id="usagegraph" style="height: 240px;"></div>
	</div>
	<div id="editnotifications" style="display:none;">
			<table class="display" id="notificationtable" border="0" cellpadding="0" cellspacing="0" width="100%">
					<thead>
							<tr>
									<th width="120" align="left" data-i18n="Type">Type</th>
									<th width="120" align="left" data-i18n="When">When</th>
									<th align="left" data-i18n="Active Systems">Active Systems</th>
									<th align="left" data-i18n="Custom Message">Custom Message</th>
									<th width="120" align="left" data-i18n="Priority">Priority</th>
							</tr>
					</thead>
			</table>
			<table id="updelclr" border="0" cellpadding="0" cellspacing="0" width="100%">
				<tr>
					<td>
						<a class="btnstyle3-dis" id="notificationupdate" data-i18n="Update">Update</a>&nbsp;&nbsp;&nbsp;
						<a class="btnstyle3-dis" id="notificationdelete" data-i18n="Delete">Delete</a>
					</td>
					<td align="right">
						<a class="btnstyle3" onclick="ClearNotifications();" data-i18n="Clear">Clear</a>
					</td>
				</tr>
			</table>
			<br>
			<table class="display" id="notificationparamstable" border="0" cellpadding="0" cellspacing="20">
				<tr>
					<td align="right" style="width:120px"><label for="combotype"><span data-i18n="Type"></span>:</label></td>
					<td><select id="combotype" style="width:120px" class="combobox ui-corner-all"></select></td>
				</tr>
				<tr id="notiwhen">
					<td align="right"><label for="combowhen"><span data-i18n="When"></span>:</label></td>
					<td><select id="combowhen" style="width:120px" class="combobox ui-corner-all">
								<option value="0" data-i18n="Greater">Greater</option>
								<option value="1" data-i18n="Below">Below</option>
							</select>
					</td>
				</tr>
				<tr id="notival">
					<td align="right"><label for="value"><span data-i18n="Value"></span>:</label></td>
					<td><input type="text" id="value" style="width: 50px; padding: .2em;" class="text ui-widget-content ui-corner-all" /><label id="valuetype">&nbsp;&deg; C</label></td>
				</tr>
				<tr>
					<td align="right"><label for="combopriority"><span data-i18n="Priority">Priority</span>:</label></td>
					<td><select id="combopriority" style="width:120px" class="combobox ui-corner-all">
                <option value="-2" data-i18n="Very Low">Very Low</option>
								<option value="-1" data-i18n="Moderate">Moderate</option>
                <option value="0" data-i18n="Normal" selected="selected">Normal</option>
                <option value="1" data-i18n="High">High</option>
                <option value="2" data-i18n="Emergency">Emergency</option>
					</select></td>
				</tr>
				<tr>
					<td align="right"><label for="custommessage"><span data-i18n="Custom Message"></span>:</label></td>
					<td><input type="text" id="custommessage" style="width: 350px; padding: .2em;" class="text ui-widget-content ui-corner-all" />&nbsp;
					<span data-i18n="(Optional)"></span>
					</td>
				</tr>
				<tr>
					<td align="right"><label><span data-i18n="Active Systems"></span>:</label></td>
					<td><div id="active_systems"></div></td>
				</tr>
				<tr>
					<td></td>
					<td><a class="btnstyle3" onclick="AddNotification();" data-i18n="Add">Add</a></td>
				</tr>
			</table>
			<br>
	</div>
	<div id="dialog-replacedevice" title="Replace Device">
		<form>
			<label for="newdevice"><span data-i18n="New Device"></span>: </label>
			<select id="newdevice" style="width:250px" class="combobox ui-corner-all">
			</select>
		</form>
	</div>
         <div class="navbar navbar-inverse navbar-fixed-top" ng-controller="NavbarController" style="display: none;" has-User>
             <div class="navbar-inner">
                <div class="container">
					<a class="brand hidden-phone" href="#Dashboard"><h1>Domoticz</h1> <h2 id="appversion">*</h2></a>
                        <ul class="nav" id="appnavbar">
                            <li ng-show="config.EnableTabDashboard" ng-class="{'current_page_item':getClass('/Dashboard')}" class="clDashboard"><a id="cDashboard" href="#Dashboard"><img src="images/desktop.png"> <span class="hidden-phone hidden-tablet" data-i18n="Dashboard">Dashboard</span></a></li>
                            <li ng-show="config.EnableTabFloorplans" class="divider-vertical clFloorplans"></li>
							<li ng-show="config.EnableTabFloorplans" ng-class="{'current_page_item':getClass('/Floorplans')}" class="clFloorplans"><a id="cFloorplans" href="#Floorplans"><img src="images/house.png"> <span class="hidden-phone hidden-tablet" data-i18n="Floorplan">Floorplan</span></a></li>
                            <li ng-show="config.EnableTabLights" class="divider-vertical clLightSwitches"></li>
							<li ng-show="config.EnableTabLights" ng-class="{'current_page_item':getClass('/LightSwitches')}" class="clLightSwitches"><a id="cLightSwitches" href="#LightSwitches"><img src="images/lightbulb.png"> <span class="hidden-phone hidden-tablet" data-i18n="Switches">Switches</span></a></li>
                            <li ng-show="config.EnableTabScenes" class="divider-vertical clScenes"></li>
							<li ng-show="config.EnableTabScenes" ng-class="{'current_page_item':getClass('/Scenes')}" class="clScenes"><a id="cScenes" href="#Scenes"><img src="images/scenes.png"> <span class="hidden-phone hidden-tablet" data-i18n="Scenes">Scenes</span></a></li>
                            <li ng-show="config.EnableTabTemp" class="divider-vertical clTemperature"></li>
							<li ng-show="config.EnableTabTemp" ng-class="{'current_page_item':getClass('/Temperature')}" class="clTemperature"><a id="cTemperature" href="#Temperature"><img src="images/temperature.png"> <span class="hidden-phone hidden-tablet" data-i18n="Temperature">Temperature</span></a></li>
                            <li ng-show="config.EnableTabWeather" class="divider-vertical clWeather"></li>
							<li ng-show="config.EnableTabWeather" ng-class="{'current_page_item':getClass('/Weather')}" class="clWeather"><a id="cWeather" href="#Weather"><img src="images/rain.png"> <span class="hidden-phone hidden-tablet" data-i18n="Weather">Weather</span></a></li>
                            <li ng-show="config.EnableTabUtility" class="divider-vertical clUtility"></li>
							<li ng-show="config.EnableTabUtility" ng-class="{'current_page_item':getClass('/Utility')}" class="clUtility"><a id="cUtility" href="#Utility"><img src="images/utility.png"> <span class="hidden-phone hidden-tablet" data-i18n="Utility">Utility</span></a></li>
                            <li ng-show="config.EnableTabCustom" class="divider-vertical clcustommenu"></li>
                            <li ng-show="config.EnableTabCustom" class="dropdown clcustommenu">
                                <a class="dropdown-toggle lcursor" data-toggle="dropdown"><img src="images/devices.png"> <span class="hidden-phone hidden-tablet" data-i18n="Custom">Custom</span> <b class="caret hidden-phone hidden-tablet"></b></a>
                                <ul class="dropdown-menu pull-right" id="custommenu"></ul>
							</li>
                            <li class="divider-vertical" style="display: none;" has-permission="Admin"></li>
                            <li class="dropdown" style="display: none;" has-permission="Admin">
                                <a class="dropdown-toggle lcursor" data-toggle="dropdown"><img src="images/setup.png"> <span class="hidden-phone hidden-tablet" data-i18n="Setup">Setup</span> <b class="caret hidden-phone hidden-tablet"></b></a>
                                <ul class="dropdown-menu pull-right">
									<li ng-class="{'current_page_item':getClass('/Hardware')}" id="mHardware"><a id="cHardware" href="#Hardware"><img src="images/hardware.png"> <span data-i18n="Hardware">Hardware</span></a></li>
									<li ng-class="{'current_page_item':getClass('/Devices')}" id="mDevices"><a id="cDevices" href="#Devices"><img src="images/devices.png"> <span data-i18n="Devices">Devices</span></a></li>
									<li ng-class="{'current_page_item':getClass('/Setup')}" id="mSetup"><a id="cSetup" href="#Setup"><img src="images/setup.png"> <span data-i18n="Settings">Settings</span></a></li>
                                    <li id="dUpdate" class="divider"></li>
									<li ng-show="config.HaveUpdate"><a href="#Update"><img src="images/utility.png"> <span data-i18n="Update Domoticz">Update Domoticz</span></a></li> 
                                    <li ng-hide"config.HaveUpdate"><a class="lcursor" onclick="javascript:CheckForUpdate(true)"><img src="images/utility.png"> <span data-i18n="Check for Update">Check for Update</span></a></li>
                                    <li class="dropdown-submenu">
										<a id="cMoreOptions" tabindex="-1" data-i18n="More options">More options</a>
										<ul class="dropdown-menu pull-left">
											<li ng-class="{'current_page_item':getClass('/Cam')}" id="mCam"><a id="cCam" href="#Cam"><img src="images/camera-web.png"> <span data-i18n="Cameras">Cameras</span></a></li>
											<li ng-class="{'current_page_item':getClass('/Users')}" id="mUsers"><a id="cUsers" href="#Users"><img src="images/users.png"> <span data-i18n="Edit Users">Edit Users</span></a></li>
											<li ng-class="{'current_page_item':getClass('/Events')}" id="mEvents"><a id="cEvents" href="#Events"><img src="images/events.png"> <span data-i18n="Events">Events</span></a></li>
											<li ng-class="{'current_page_item':getClass('/CustomIcons')}" id="mCustomIcons"><a id="cCustomIcons" href="#CustomIcons"><img src="images/customicons.png"> <span data-i18n="Custom Icons">Custom Icons</span></a></li>
											<li class="dropdown-submenu">
												<a id="cPlans" tabindex="-1"><img src="images/house.png"> <span data-i18n="Plans">Plans</span></a>
												<ul class="dropdown-menu pull-right">
													<li ng-class="{'current_page_item':getClass('/Roomplan')}" id="mRoomplan"><a id="cRoomplan" href="#Roomplan"> <span data-i18n="Roomplan">Roomplan</span></a></li>
													<li ng-class="{'current_page_item':getClass('/Floorplanedit')}" id="mFloorplan"><a id="cFloorplan" href="#Floorplanedit"> <span data-i18n="Floorplan">Floorplan</span></a></li>
												</ul>
											</li>
											<li ng-class="{'current_page_item':getClass('/UserVariables')}" id="mUserVariables"><a id="cUserVariables" href="#UserVariables"><img src="images/variables.png"> <span data-i18n="User variables">User variables</span></a></li>
											<li id="mSecurity"><a id="cSecurity" href="secpanel/index.html"><img src="images/security.png"> <span data-i18n="SecurityPanel">Security Panel</span></a></li>
											<li ng-class="{'current_page_item':getClass('/Notification')}" id="mNotification"><a id="cNotification" href="#Notification"><img src="images/notification.png"> <span data-i18n="Send Notification">Send Notification</span></a></li>
											<li class="divider"></li>
											<li class="dropdown-submenu">
												<a id="cDataPush" tabindex="-1"><img src="images/contact.png"> <span data-i18n="Data push">Data push</span></a>
												<ul class="dropdown-menu pull-right">
													<li ng-class="{'current_page_item':getClass('/DPFibaro')}" id="mDPFibaro"><a id="cDPFibaro" href="#DPFibaro"> <span data-i18n="FibaroLink">FibaroLink</span></a></li>
													<li ng-class="{'current_page_item':getClass('/DPHttp')}" id="mDPHttp"><a id="cDPHttp" href="#DPHttp"> <span data-i18n="HTTP">HTTP</span></a></li>
												</ul>
											</li>
											<li class="divider"></li>
											<li id="mRestart"><a id="cRestart" href="javascript:SwitchLayout('Restart')"><img src="images/restart.png"> <span data-i18n="Restart System">Restart System</span></a></li>
											<li id="mShutdown"><a id="cShutdown" href="javascript:SwitchLayout('Shutdown')"><img src="images/shutdown.png"> <span data-i18n="Shutdown System">Shutdown System</span></a></li>
										</ul>
                                    </li>
                                    <li class="divider"></li>
                                    <li ng-class="{'current_page_item':getClass('/Log')}" id="mLog"><a id="cLog" href="#Log"><img src="images/log.png"> <span data-i18n="Log">Log</span></a></li>
                                    <li id="dLogoutSetup" class="divider" style="display: none;" has-Login=true></li>
									<li id="mLogoutSetup" style="display: none;" has-Login=true><a id="cLogout" href="#Logout"><img src="images/logout.png"> <span data-i18n="Logout">Logout</span></a></li>
                                </ul>
                            </li>
                            <li id="dLogout" class="divider-vertical" style="display: none;" has-Login-No-Admin=true></li>
							<li id="mLogout" style="display: none;" has-Login-No-Admin=true><a id="cLogout" href="#Logout"><img src="images/logout.png"> <span data-i18n="Logout">Logout</span></a></li>
                        </ul>
                </div>
            </div>
        </div>
        <div id="holder">
					<div class="container-fluid">
							<div id="notification" style="display: none;"></div>
							<div class="bannercontent">
								<div id="main-view" ng-view></div>
							</div>
							<div id="copyright" style="display: none;" has-User>
									<p>&copy; 2012-2015 Domoticz | WWW: <a href="http://domoticz.com/">Domoticz.com</a></p>
							</div>
					</div> <!-- /container -->
		</div>
    </body>
</html>
